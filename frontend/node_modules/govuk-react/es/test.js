import fs from 'fs';
import path from 'path';
import * as packageExports from './index';
import pkg from '../package.json';
describe('Exports', function () {
  // all exports are truthy
  Object.keys(packageExports).map(function (exportName) {
    return it(exportName + " is truthy", function () {
      expect(!!packageExports[exportName]).toBe(true);
    });
  });
}); // https://stackoverflow.com/questions/18112204/get-all-directories-within-directory-nodejs?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa

var dirs = function dirs(p) {
  return fs.readdirSync(p).filter(function (f) {
    return fs.statSync(path.join(p, f)).isDirectory();
  });
};

describe('Components', function () {
  // all componenents are dependencies of govuk-react
  // if needed in future, can add an exclusion list/array to this test
  var components = dirs(path.join(__dirname, '../../../components')); // TODO: this fails if a component is deleted/renamed and es/lib/node_modules are left behind.
  // We either need a clean command that can be run before tests or check the existence of package.json in each component folder.

  components.map(function (component) {
    return it("@govuk-react/" + component + " is in dependencies", function () {
      expect(!!pkg.dependencies["@govuk-react/" + component]).toBe(true);
    });
  });
});
//# sourceMappingURL=test.js.map