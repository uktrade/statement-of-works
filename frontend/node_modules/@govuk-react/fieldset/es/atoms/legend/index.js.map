{"version":3,"sources":["../../../src/atoms/legend/index.js"],"names":["React","PropTypes","styled","spacing","typography","HEADING_SIZES","SPACING_POINTS","TYPOGRAPHY_SCALE","StyledLegend","withWhiteSpace","font","size","textColour","boxSizing","display","maxWidth","marginBottom","padding","whiteSpace","actualSize","Number","isNaN","undefined","Error","Object","assign","weight","StyledHeading","margin","fontSize","fontWeight","Legend","children","isPageHeading","props","defaultProps"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,kBAApC;AACA,SAASC,aAAT,EAAwBC,cAAxB,EAAwCC,gBAAxC,QAAgE,wBAAhE;AAEA,IAAMC,YAAY,GAAGN,MAAM,CAAC,QAAD,CAAN,CACnBC,OAAO,CAACM,cAAR,EADmB,EAEnBL,UAAU,CAACM,IAAX,CAAgB;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAhB,CAFmB,EAGnBP,UAAU,CAACQ,UAHQ,EAInB;AACEC,EAAAA,SAAS,EAAE,YADb;AAEEC,EAAAA,OAAO,EAAE,OAFX;AAGEC,EAAAA,QAAQ,EAAE,MAHZ;AAIEC,EAAAA,YAAY,EAAEV,cAAc,CAAC,CAAD,CAJ9B;AAKEW,EAAAA,OAAO,EAAE,CALX;AAME;AACA;AACAC,EAAAA,UAAU,EAAE;AARd,CAJmB,EAcnB,gBAAc;AAAA,MAAXP,IAAW,QAAXA,IAAW;AACZ,MAAMQ,UAAU,GAAGC,MAAM,CAACC,KAAP,CAAaD,MAAM,CAACT,IAAD,CAAnB,IAA6BN,aAAa,CAACM,IAAD,CAA1C,GAAmDA,IAAtE;;AAEA,MAAIA,IAAI,KAAKW,SAAT,IAAsB,CAACH,UAA3B,EAAuC;AACrC,UAAMI,KAAK,mBAAiBZ,IAAjB,uBAAX;AACD;;AAED,MAAI,CAACQ,UAAL,EAAiB;AACf,WAAOG,SAAP;AACD;;AAED,SAAOE,MAAM,CAACC,MAAP,CACL,EADK,EAELrB,UAAU,CAACM,IAAX,CAAgB;AAAEC,IAAAA,IAAI,EAAEQ,UAAR;AAAoBO,IAAAA,MAAM,EAAE;AAA5B,GAAhB,CAFK,EAGLP,UAAU,GAAG,EAAb,GAAkB;AAAEH,IAAAA,YAAY,EAAEV,cAAc,CAAC,CAAD;AAA9B,GAAlB,GAAwDgB,SAHnD,CAAP;AAKD,CA9BkB,CAArB;AAiCA,IAAMK,aAAa,GAAGzB,MAAM,CAAC,IAAD,CAAN,CAAa;AACjC0B,EAAAA,MAAM,EAAE,CADyB;AAEjCC,EAAAA,QAAQ,EAAE,SAFuB;AAGjCC,EAAAA,UAAU,EAAE;AAHqB,CAAb,CAAtB,C,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,MAAGC,QAAH,SAAGA,QAAH;AAAA,MAAaC,aAAb,SAAaA,aAAb;AAAA,MAA+BC,KAA/B;;AAAA,SACb,oBAAC,YAAD,EAAkBA,KAAlB,EAA0BD,aAAa,GAAG,oBAAC,aAAD,QAAgBD,QAAhB,CAAH,GAA+CA,QAAtF,CADa;AAAA,CAAf;;AAUAD,MAAM,CAACI,YAAP,GAAsB;AACpBF,EAAAA,aAAa,EAAE,KADK;AAEpBtB,EAAAA,IAAI,EAAEW;AAFc,CAAtB;AAKA,eAAeS,MAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport { spacing, typography } from '@govuk-react/lib';\nimport { HEADING_SIZES, SPACING_POINTS, TYPOGRAPHY_SCALE } from '@govuk-react/constants';\n\nconst StyledLegend = styled('legend')(\n  spacing.withWhiteSpace(),\n  typography.font({ size: 19 }),\n  typography.textColour,\n  {\n    boxSizing: 'border-box',\n    display: 'table',\n    maxWidth: '100%',\n    marginBottom: SPACING_POINTS[2],\n    padding: 0,\n    // Disabling this as per https://github.com/alphagov/govuk-frontend/issues/1239\n    // overflow: 'hidden',\n    whiteSpace: 'normal',\n  },\n  ({ size }) => {\n    const actualSize = Number.isNaN(Number(size)) ? HEADING_SIZES[size] : size;\n\n    if (size !== undefined && !actualSize) {\n      throw Error(`Unknown size ${size} used for legend.`);\n    }\n\n    if (!actualSize) {\n      return undefined;\n    }\n\n    return Object.assign(\n      {},\n      typography.font({ size: actualSize, weight: 'bold' }),\n      actualSize > 19 ? { marginBottom: SPACING_POINTS[3] } : undefined\n    );\n  }\n);\n\nconst StyledHeading = styled('h1')({\n  margin: 0,\n  fontSize: 'inherit',\n  fontWeight: 'inherit',\n});\n\n// // When the legend contains an H1, we want the H1 to inherit all styles from\n// // the legend. Effectively we want to be able to treat the heading as if it is\n// // not there.\n// .govuk-fieldset__heading {\n//   margin: 0;\n//   font-size: inherit;\n//   font-weight: inherit;\n// }\n\nconst Legend = ({ children, isPageHeading, ...props }) => (\n  <StyledLegend {...props}>{isPageHeading ? <StyledHeading>{children}</StyledHeading> : children}</StyledLegend>\n);\n\nLegend.propTypes = {\n  children: PropTypes.node.isRequired,\n  isPageHeading: PropTypes.bool,\n  size: PropTypes.oneOf([...Object.keys(HEADING_SIZES), ...Object.keys(TYPOGRAPHY_SCALE)]),\n};\n\nLegend.defaultProps = {\n  isPageHeading: false,\n  size: undefined,\n};\n\nexport default Legend;\n"],"file":"index.js"}