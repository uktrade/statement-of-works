{"version":3,"sources":["../../src/deprecate/test.js"],"names":["React","mount","deprecate","describe","OLD_ENV","process","env","nativeWarn","console","warn","warnCallCount","beforeEach","jest","resetModules","afterEach","it","NODE_ENV","Comp","expect","toEqual"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,QAAtB;AAEA,OAAOC,SAAP,MAAsB,GAAtB;AAEAC,QAAQ,CAAC,eAAD,EAAkB,YAAM;AAC9B,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAxB,CAD8B,CAE9B;;AACA,MAAMC,UAAU,GAAGC,OAAO,CAACC,IAA3B;AACA,MAAIC,aAAJ;AACA;;;;AAGAC,EAAAA,UAAU,CAAC,YAAM;AACfC,IAAAA,IAAI,CAACC,YAAL;AACAR,IAAAA,OAAO,CAACC,GAAR,qBAAmBF,OAAnB,EAFe,CAGf;;AACAI,IAAAA,OAAO,CAACC,IAAR,GAAe,YAAM;AACnBC,MAAAA,aAAa,IAAI,CAAjB;AACD,KAFD;;AAGAA,IAAAA,aAAa,GAAG,CAAhB;AACD,GARS,CAAV;AAUAI,EAAAA,SAAS,CAAC,YAAM;AACd;AACAN,IAAAA,OAAO,CAACC,IAAR,GAAeF,UAAf;AACAF,IAAAA,OAAO,CAACC,GAAR,GAAcF,OAAd;AACD,GAJQ,CAAT;AAMAW,EAAAA,EAAE,CAAC,sEAAD,EAAyE,YAAM;AAC/EV,IAAAA,OAAO,CAACC,GAAR,CAAYU,QAAZ,GAAuB,aAAvB;AACA,QAAMC,IAAI,GAAGf,SAAS,CAAC;AAAA,aAAM,wCAAN;AAAA,KAAD,CAAtB;AAEAD,IAAAA,KAAK,CAAC,oBAAC,IAAD,OAAD,CAAL;AAEAiB,IAAAA,MAAM,CAACR,aAAD,CAAN,CAAsBS,OAAtB,CAA8B,CAA9B;AACD,GAPC,CAAF;AASAJ,EAAAA,EAAE,CAAC,sEAAD,EAAyE,YAAM;AAC/EV,IAAAA,OAAO,CAACC,GAAR,CAAYU,QAAZ,GAAuB,YAAvB;AACA,QAAMC,IAAI,GAAGf,SAAS,CAAC;AAAA,aAAM,wCAAN;AAAA,KAAD,CAAtB;AAEAD,IAAAA,KAAK,CAAC,oBAAC,IAAD,OAAD,CAAL;AAEAiB,IAAAA,MAAM,CAACR,aAAD,CAAN,CAAsBS,OAAtB,CAA8B,CAA9B;AACD,GAPC,CAAF;AAQD,CAzCO,CAAR","sourcesContent":["import React from 'react';\nimport { mount } from 'enzyme';\n\nimport deprecate from '.';\n\ndescribe('deprecate HOC', () => {\n  const OLD_ENV = process.env;\n  // eslint-disable-next-line no-console\n  const nativeWarn = console.warn;\n  let warnCallCount;\n  /**\n   * Make sure the setup is the same for every test\n   */\n  beforeEach(() => {\n    jest.resetModules();\n    process.env = { ...OLD_ENV };\n    // eslint-disable-next-line no-console\n    console.warn = () => {\n      warnCallCount += 1;\n    };\n    warnCallCount = 0;\n  });\n\n  afterEach(() => {\n    // eslint-disable-next-line no-console\n    console.warn = nativeWarn;\n    process.env = OLD_ENV;\n  });\n\n  it('should warn when using a deprecated component when not in production', () => {\n    process.env.NODE_ENV = 'development';\n    const Comp = deprecate(() => <div>Test</div>);\n\n    mount(<Comp />);\n\n    expect(warnCallCount).toEqual(1);\n  });\n\n  it('should not warn when using a deprecated component when in production', () => {\n    process.env.NODE_ENV = 'production';\n    const Comp = deprecate(() => <div>Test</div>);\n\n    mount(<Comp />);\n\n    expect(warnCallCount).toEqual(0);\n  });\n});\n"],"file":"test.js"}